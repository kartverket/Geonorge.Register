@model SynchronizationViewModel
@using Kartverket.Register.Helpers
@using Kartverket.Register.Models.ViewModels



<h2>Synkronisering</h2>

@if (Model.ActiveSynchronizationJob.Any())
{
    <a class="btn btn-default btn-space disabled pull-right">Synkroniser register</a>
    <a class="btn btn-default btn-space disabled pull-right">Synkroniser tjenester</a>
}
else
{
    <a class="btn btn-default btn-space pull-right" href="@RegisterUrls.SynchronizeInspireRegistry()">Synkroniser register</a>
    <a class="btn btn-default btn-space pull-right" href="@RegisterUrls.SynchronizeInspireServices()">Synkroniser tjenester</a>
}

@if (Model.SynchronizationJobs.Any())
{
    <table class="table table-bordered">

        <tr>
            <th>Start</th>
            <th>Stopp</th>
            <th>Tid</th>
            <th>Type</th>
            <th>Antall</th>
            <th>Synkronisert</th>
            <th>Lagt til</th>
            <th>Slettet</th>
@*            <th>Feil</th>*@
        </tr>
        
        @foreach (var activeJobs in Model.ActiveSynchronizationJob)
        {
        <tr class="success">
            <td>@activeJobs.Start</td>
            <td>@activeJobs.Stop</td>
            <td>@activeJobs.Time()</td>
            <td>@activeJobs.ItemType</td>
            <td>@activeJobs.NumberOfItems</td>
            <td>@activeJobs.SuccessCount</td>
            <td>@activeJobs.NumberOfNewItems</td>
            <td>@activeJobs.NumberOfDeletedItems</td>
  @*          <td>@activeJobs.FailCount</td>*@
        </tr>
        }

        @foreach (var synchronization in Model.SynchronizationJobs)
        {
        <tr>
            <td>@synchronization.Start</td>
            <td>@synchronization.Stop</td>
            <td>@synchronization.Time()</td>
            <td>@synchronization.ItemType</td>
            <td>@synchronization.NumberOfItems</td>
            <td>@synchronization.SuccessCount</td>
            <td>@synchronization.NumberOfNewItems</td>
            <td>@synchronization.NumberOfDeletedItems</td>
    @*        <td>@synchronization.FailCount</td>*@
        </tr>
        }
    </table>
}

