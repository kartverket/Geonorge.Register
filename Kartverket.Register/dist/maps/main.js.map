{"version":3,"sources":["node_modules/geonorge-shared-partials/src/js/searchOptions.js","node_modules/geonorge-shared-partials/src/js/app.js","node_modules/geonorge-shared-partials/src/js/baseController.js","node_modules/geonorge-shared-partials/src/js/menuTopController.js","node_modules/geonorge-shared-partials/src/js/searchTopController.js"],"names":["kartKatalogenUrl","local","test","prod","geonorgeBaseUrl","searchOptions","text","searchTitle","buttonCss","listCss","queryParameter","localUrl","autoComplete","url","api","shoppingCartUrl","loginUrl","logoutUrl","hosts","epiBaseUrl","imageLogoPath","dev","searchOption","applicationEnvironment","angular","module","app","controller","$scope","$http","langCode","Cookies","get","localizedText","search","en","no","menu","login","logout","cultureSwitchName","cultureSwitchCode","cultureData","cultureSwitchUrl","friendlyUrlNO","friendlyUrlEN","switchCulture","cultureCode","document","cookie","undefined","loggedIn","handleSuccess","respons","menuItems","data","handleError","getMenuError","trustSrc","src","$sce","trustAsResourceUrl","getMenuData","domainUrl","menuService","request","method","headers","Content-Type","accept","crossDomain","then","service","$q","executeMethod","methodToExecute","triggerSearch","value","reject","performSearch","query","filters","limit","section","getSearchParameters","facetValue","facetParameters","queryParameters","encodeURI","menuService1","request1","menuService2","request2","menuService3","request3","all","txtLang","getElementById","lang","$rootScope","$location","$window","$timeout","aggregatedService","fallbackRouting","selectedSearch","param","searchQuery","relativeUrl","location","href","displayAutoCompleteData","response","ajaxCallActive","autoCompleteResult","d","list","NumberOfHitsTotal","Results","x","length","item","curr","type","Section","title","SectionName","y","currResult","getType","Type","push","externalId","id","typeId","Title","ShowDetailsUrl","console","log","autoCompleteMoveUp","resultCount","categoryCount","setHighlightedRow","autoCompleteMoveDown","innerItem","highlight","z","trustHtml","html","trustAsHtml","dropdownOpen","extendedSearchOpen","showFakeResults","searchString","autoCompletePartial","focused","autocompleteActive","allowBlur","viewport","width","window","innerWidth","height","innerHeight","breakpoints","xSmall","small","medium","large","select","e","preventDefault","stopPropagation","txt","focus","buttonDropdownKeyDown","dropdown","keyCode","target","blur","element","next","children","dropdownOptions","dropdownKeyDown","toFocus","onSearch","ev","shiftKey","timer","autocomplete","resetAutocomplete","cancel","arrayOfResults","mouseOver","val","category","index","mouseOut","setFocus","on","ready"],"mappings":"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","file":"main.js","sourcesContent":["var kartKatalogenUrl = {\r\n    local: \"//kartkatalog.dev.geonorge.no\",\r\n    test: \"//kartkatalog.test.geonorge.no\",\r\n    prod: \"//kartkatalog.geonorge.no\"\r\n};\r\nvar geonorgeBaseUrl = { \r\n    local: \"localhost:61381\",\r\n    test: \"www.test.geonorge.no\",\r\n    prod: \"www.geonorge.no\"\r\n};\r\nvar searchOptions = {\r\n    local: {\r\n        text: \"Kartkatalogen\",\r\n        searchTitle: \"Kartkatalogen\",\r\n        buttonCss: \"edgesKartkatalogen\",\r\n        listCss: \"left-edge-kartkatalogen\",    \r\n        queryParameter: \"?text=\",\r\n        localUrl: false,\r\n        autoComplete: true,\r\n        url: kartKatalogenUrl.local + \"/search\",\r\n        api: kartKatalogenUrl.local + \"/api/search\",\r\n        shoppingCartUrl: kartKatalogenUrl.local + \"/nedlasting\",\r\n        loginUrl: kartKatalogenUrl.local + \"/AuthServices/SignIn?ReturnUrl=http%3A%2F%2F\"+geonorgeBaseUrl.local+\"%2F\",\r\n        logoutUrl: kartKatalogenUrl.local + \"/AuthServices/SignOut?ReturnUrl=http%3A%2F%2F\"+geonorgeBaseUrl.local+\"%2F\",\r\n        hosts: \"localhost,geonorge.epidemo.no,geonorge.local,kartkatalog.dev.geonorge.no\",\r\n        epiBaseUrl: geonorgeBaseUrl.local,\r\n        imageLogoPath: \"/dist/images/geonorge_logo_350px_dev.svg\"\r\n    },\r\n    dev: {\r\n        text: \"Kartkatalogen\",\r\n        searchTitle: \"Kartkatalogen\",\r\n        buttonCss: \"edgesKartkatalogen\",\r\n        listCss: \"left-edge-kartkatalogen\",    \r\n        queryParameter: \"?text=\",\r\n        localUrl: false,\r\n        autoComplete: true,\r\n        url: kartKatalogenUrl.local + \"/search\",\r\n        api: kartKatalogenUrl.local + \"/api/search\",\r\n        shoppingCartUrl: kartKatalogenUrl.local + \"/nedlasting\",\r\n        loginUrl: kartKatalogenUrl.local + \"/AuthServices/SignIn?ReturnUrl=http%3A%2F%2F\"+geonorgeBaseUrl.local+\"%2F\",\r\n        logoutUrl: kartKatalogenUrl.local + \"/AuthServices/SignOut?ReturnUrl=http%3A%2F%2F\"+geonorgeBaseUrl.local+\"%2F\",\r\n        hosts: \"localhost,geonorge.epidemo.no,geonorge.local,kartkatalog.dev.geonorge.no\",\r\n        epiBaseUrl: geonorgeBaseUrl.local,\r\n        imageLogoPath: \"/dist/images/geonorge_logo_350px_dev.svg\"\r\n    },\r\n    test: {\r\n        text: \"Kartkatalogen\",\r\n        searchTitle: \"Kartkatalogen\",\r\n        buttonCss: \"edgesKartkatalogen\",\r\n        listCss: \"left-edge-kartkatalogen\",    \r\n        queryParameter: \"?text=\",\r\n        localUrl: false,\r\n        autoComplete: true,\r\n        url: kartKatalogenUrl.test + \"/search\",\r\n        api: kartKatalogenUrl.test + \"/api/search\",\r\n        shoppingCartUrl: kartKatalogenUrl.test + \"/nedlasting\",\r\n        loginUrl: kartKatalogenUrl.test + \"/AuthServices/SignIn?ReturnUrl=http%3A%2F%2F\"+geonorgeBaseUrl.test+\"%2F\",\r\n        logoutUrl: kartKatalogenUrl.test + \"/AuthServices/SignOut?ReturnUrl=http%3A%2F%2F\"+geonorgeBaseUrl.test+\"%2F\",\r\n        hosts: \"test.geonorge.no,kartkatalog.test.geonorge.no,register.test.geonorge.no,objektkatalog.test.geonorge.no,editor.test.geonorge.no,produktark.test.geonorge.no,validering.test.geonorge.no,159.162.102.155,kartkatalog.dev.geonorge.no,register.dev.geonorge.no,objektkatalog.dev.geonorge.no,editor.dev.geonorge.no,produktark.dev.geonorge.no,validering.dev.geonorge.no,159.162.102.155,kartkatalog.dev.geonorge.no,register.dev.geonorge.no,objektkatalog.dev.geonorge.no,editor.dev.geonorge.no,produktark.dev.geonorge.no,validering.dev.geonorge.no,159.162.102.155\",\r\n        epiBaseUrl: \"//\" + geonorgeBaseUrl.test,\r\n        imageLogoPath: \"/dist/images/geonorge_logo_350px_test.svg\"\r\n    },\r\n    prod: {\r\n        text: \"Kartkatalogen\",\r\n        searchTitle: \"Kartkatalogen\",\r\n        buttonCss: \"edgesKartkatalogen\",\r\n        listCss: \"left-edge-kartkatalogen\",    \r\n        queryParameter: \"?text=\",\r\n        localUrl: false,\r\n        autoComplete: true,\r\n        url: kartKatalogenUrl.prod + \"/search\",\r\n        api: kartKatalogenUrl.prod + \"/api/search\",\r\n        shoppingCartUrl: kartKatalogenUrl.prod + \"/nedlasting\",\r\n        loginUrl: kartKatalogenUrl.prod + \"/AuthServices/SignIn?ReturnUrl=http%3A%2F%2F\"+geonorgeBaseUrl.prod+\"%2F\",\r\n        logoutUrl: kartKatalogenUrl.prod + \"/AuthServices/SignOut?ReturnUrl=http%3A%2F%2F\"+geonorgeBaseUrl.prod+\"%2F\",\r\n        hosts: \"geonorge.no,kartkatalog.geonorge.no,register.geonorge.no,objektkatalog.geonorge.no,editor.geonorge.no,produktark.geonorge.no,validering.geonorge.no,159.162.102.155\",\r\n        epiBaseUrl: \"//\" + geonorgeBaseUrl.prod,\r\n        imageLogoPath: \"/dist/images/geonorge_logo_350px.svg\"\r\n    }\r\n};\r\n\r\nvar searchOption = searchOptions.prod;\r\nvar applicationEnvironment = applicationEnvironment || \"\";\r\nif (applicationEnvironment !== \"\") {\r\n\tvar searchOption = searchOptions[applicationEnvironment];\r\n}","angular.module('geonorge-header', ['ui.bootstrap']);","(function() {\r\n    var app = angular.module(\"geonorge-header\");\r\n\r\n    app.controller(\"baseController\", [\r\n        \"$scope\", \"$http\",\r\n        function($scope, $http) {       \r\n            // * Language *     \r\n            $scope.langCode = Cookies.get(\"_culture\");\r\n            $scope.localizedText = {\r\n                search: {\r\n                    en: \"Search\",\r\n                    no: \"Søk\"\r\n                },\r\n                menu: {\r\n                    en: \"Menu\",\r\n                    no: \"Meny\"\r\n                },\r\n                login: {\r\n                    en: \"Login\",\r\n                    no: \"Logg inn\"\r\n                },\r\n                logout: {\r\n                    en: \"Log out\",\r\n                    no: \"Logg ut\"\r\n                }\r\n            }            \r\n            switch ($scope.langCode) {\r\n                case \"en\":\r\n                    $scope.cultureSwitchName = \"Norsk\";\r\n                    $scope.cultureSwitchCode = \"no\";\r\n                    if (cultureData)\r\n                        $scope.cultureSwitchUrl = cultureData.friendlyUrlNO;\r\n                    break;\r\n                default:\r\n                    $scope.cultureSwitchName = \"English\";\r\n                    $scope.cultureSwitchCode = \"en\";\r\n                    if (cultureData)\r\n                        $scope.cultureSwitchUrl = cultureData.friendlyUrlEN;\r\n            }\r\n            $scope.switchCulture = function(cultureCode) {\r\n                document.cookie = \"_culture=\" + cultureCode + \"; path=/;domain=.geonorge.no\";\r\n            }\r\n            \r\n            // * Logo *\r\n            $scope.imageLogoPath = \"\";\r\n            if (searchOption.imageLogoPath !== undefined)\r\n                $scope.imageLogoPath = searchOption.imageLogoPath;\r\n\r\n            // * Login *\r\n            $scope.loggedIn = Cookies.get(\"_loggedIn\");\r\n            if (searchOption.loggedIn !== undefined)\r\n                $scope.loggedIn = searchOption.loggedIn;\r\n        }\r\n    ]);\r\n}());","(function() {\r\n    var app = angular.module(\"geonorge-header\");\r\n\r\n    app.controller(\"menuTopController\", [\r\n        \"$scope\", \"$http\",\r\n        function($scope, $http) {\r\n            $scope.trustSrc = function (src) {\r\n                return $sce.trustAsResourceUrl(src);\r\n            }\r\n\r\n            function handleSuccess(respons) {\r\n                var menuItems = respons.data;\r\n                $scope.menuItems = menuItems;\r\n            }\r\n\r\n            function handleError() {\r\n                $scope.getMenuError = true;\r\n            }\r\n\r\n            $scope.getMenuData = function getMenuData() {\r\n                var domainUrl = \"\";\r\n                if (searchOption.epiBaseUrl !== undefined)\r\n                    domainUrl = searchOption.epiBaseUrl;\r\n                var menuService = domainUrl + \"/api/menu\" + \"?omitLinks=1\";\r\n                var request = $http({\r\n                    method: \"GET\",\r\n                    url: menuService,\r\n                    headers: {\r\n                        'Content-Type': \"application/json; charset=utf-8\",\r\n                        'accept': \"*/*\"\r\n                    },\r\n                    data: {},\r\n                    crossDomain: true\r\n                });\r\n\r\n                return request.then(handleSuccess, handleError);\r\n            };\r\n\r\n            $scope.loginUrl = '//kartkatalog.geonorge.no/login';\r\n            if (searchOption.loginUrl !== undefined)\r\n                $scope.loginUrl = searchOption.loginUrl;            \r\n        }\r\n        ]);\r\n}());","(function () {\r\n    var app = angular.module(\"geonorge-header\");\r\n       \r\n    app.service('aggregatedService', ['$http', '$q', function ($http, $q) {\r\n        var txtLang = document.getElementById('txtLang');\r\n        var lang = '';\r\n        if (txtLang) lang = txtLang.value;\r\n\r\n        var methodToExecute = undefined;\r\n\r\n        return ({\r\n            triggerSearch: triggerSearch,\r\n            executeMethod: executeMethod,\r\n            performSearch: performSearch\r\n        });\r\n\r\n\r\n        function executeMethod(method) {\r\n            methodToExecute = method;\r\n        }\r\n\r\n        function triggerSearch(value) {\r\n            return $q(function (reject) {\r\n                if (methodToExecute == undefined) {\r\n                    reject();\r\n                } else {\r\n                    methodToExecute(value);\r\n                }\r\n            });\r\n        }\r\n\r\n        function performSearch(query, filters, limit, section) {\r\n\r\n            function getSearchParameters(facetValue, query) {\r\n                var facetParameters = 'facets[1]name=type&facets[1]value=' + facetValue;\r\n                var queryParameters = 'text=' + query;\r\n                return '?limit=5&' + facetParameters + '&' + queryParameters;\r\n            }\r\n\r\n            var menuService = encodeURI(searchOption.api + getSearchParameters('dataset', query));\r\n            var request = $http({\r\n                method: 'GET',\r\n                url: menuService,\r\n                headers: {\r\n                    'Content-Type': 'application/json; charset=utf-8',\r\n                    'accept': '*/*'\r\n                },\r\n                data: {}\r\n            });\r\n\r\n            var menuService1 = encodeURI(searchOption.api + getSearchParameters('servicelayer', query));\r\n            var request1 = $http({\r\n                method: 'GET',\r\n                url: menuService1,\r\n                headers: {\r\n                    'Content-Type': 'application/json; charset=utf-8',\r\n                    'accept': '*/*'\r\n                },\r\n                data: {}\r\n            });\r\n\r\n            var menuService2 = encodeURI(searchOption.api + getSearchParameters('service', query));\r\n            var request2 = $http({\r\n                method: 'GET',\r\n                url: menuService2,\r\n                headers: {\r\n                    'Content-Type': 'application/json; charset=utf-8',\r\n                    'accept': '*/*'\r\n                },\r\n                data: {}\r\n            });\r\n\r\n            var menuService3 = encodeURI(searchOption.api + getSearchParameters('dimensionGroup', query));\r\n            var request3 = $http({\r\n                method: 'GET',\r\n                url: menuService3,\r\n                headers: {\r\n                    'Content-Type': 'application/json; charset=utf-8',\r\n                    'accept': '*/*'\r\n                },\r\n                data: {}\r\n            });\r\n\r\n\r\n            return $q.all([request3, request, request2, request1]);\r\n        }\r\n\r\n    }]).controller('searchTopController', [\r\n      '$rootScope', '$scope', '$location', '$window', '$timeout', 'aggregatedService', '$sce',\r\n      function ($rootScope, $scope, $location, $window, $timeout, aggregatedService, $sce) {\r\n          $scope.trustSrc = function (src) {\r\n              return $sce.trustAsResourceUrl(src);\r\n          }\r\n\r\n          $rootScope.trustHtml = function (html) {\r\n              return $sce.trustAsHtml(html);\r\n          };\r\n\r\n          $scope.dropdownOpen = false;\r\n          $scope.extendedSearchOpen = false;\r\n          $scope.showFakeResults = false;\r\n          $scope.searchString = \"\";\r\n          $rootScope.selectedSearch = searchOption;\r\n          $rootScope.searchQuery = '';\r\n          $scope.autoCompleteResult = [];\r\n          \r\n          $scope.autoCompletePartial = '/dist/partials/_autoCompleteRow.html';\r\n          $scope.focused = false;\r\n          $scope.autocompleteActive = false;\r\n          $scope.ajaxCallActive = false;\r\n          $scope.allowBlur = true;\r\n          $scope.viewport = {\r\n              width: window.innerWidth,\r\n              height: window.innerHeight\r\n          };\r\n          $scope.breakpoints = {\r\n              xSmall: 480,\r\n              small: 768,\r\n              medium: 992,\r\n              large: 1200\r\n          };\r\n\r\n          var select = function (e, search) {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              $rootScope.selectedSearch = search;\r\n              $scope.dropdownOpen = false;\r\n              var txt = document.getElementById('txtSearch');\r\n              txt.focus();\r\n          };\r\n\r\n          $scope.select = select;\r\n\r\n          var buttonDropdownKeyDown = function (e) {\r\n              var dropdown;\r\n              switch (e.keyCode) {\r\n                  //Enter on button is handeled fine by default\r\n                  case 38: //Arrow up\r\n                      e.target.blur();\r\n                       dropdown = angular.element(e.target).next();\r\n                      dropdown.children()[dropdownOptions.length - 1].focus();\r\n                      break;\r\n                  case 40: //Arrow down\r\n                      e.target.blur();\r\n                      dropdown = angular.element(e.target).next();\r\n                      dropdown.children()[0].focus();\r\n                      break;\r\n                  default:\r\n                      return;\r\n              }\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n          };\r\n\r\n          var dropdownKeyDown = function (e, id) {\r\n              var toFocus;\r\n              switch (e.keyCode) {\r\n                  case 13: //Enter\r\n                      select(e, dropdownOptions[id]);\r\n                      return;\r\n                  case 38: //arrow-up\r\n                      var dropdown = angular.element(document.getElementById(\"search-dropdown\"));\r\n                      if (id === 0) { //Wrap-around\r\n                          toFocus = dropdown.children()[dropdownOptions.length - 1];\r\n                      } else {\r\n                          toFocus = dropdown.children()[id - 1];\r\n                      }\r\n                      break;\r\n                  case 40: //arrow down\r\n                      if (id >= dropdownOptions.length - 1) {  //Wrap-around\r\n                          toFocus = angular.element(document.getElementById(\"search-dropdown\")).children()[0];\r\n                      } else {\r\n                          toFocus = angular.element(e.target).next()[0];\r\n                      }\r\n                      break;\r\n                  default:\r\n                      return; //Dont stop propagation/default\r\n              }\r\n              e.target.blur();\r\n              toFocus.focus();\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n          };\r\n\r\n          $scope.dropdownKeyDown = dropdownKeyDown;\r\n          $scope.buttonDropdownKeyDown = buttonDropdownKeyDown;\r\n\r\n          $scope.onSearch = function (ev) {\r\n              if (ev) ev.preventDefault();\r\n              if ($rootScope.searchQuery.length < 3) return;\r\n\r\n              //The service tries to trigger the connected search method - if not, the fallback method is used\r\n              var src = aggregatedService.triggerSearch($rootScope.searchQuery);\r\n              //Specify a fallback in case aggregatedService doesn't have a method for search implemented\r\n              src.then(fallbackRouting);\r\n          };\r\n\r\n          function fallbackRouting() {\r\n              var search = $scope.selectedSearch;\r\n              var param = '';\r\n              if ($rootScope.searchQuery !== '') {\r\n                  param = search.queryParameter;\r\n                  param += $rootScope.searchQuery;\r\n              }\r\n\r\n              var relativeUrl = search.url + param;\r\n              $window.location.href = relativeUrl;\r\n          }\r\n\r\n          $scope.preventDefault = function (ev) {\r\n\r\n              switch (ev.keyCode) {\r\n                  case 13:\r\n                      ev.preventDefault();\r\n                      break;\r\n                  case 16:\r\n                      shiftKey = true;\r\n                      break;\r\n                  case 9:\r\n                      if ($scope.autoCompleteResult.length > 0) {// && categoryCount <= $scope.autoCompleteResult.length && resultCount < $scope.autoCompleteResult[$scope.autoCompleteResult.length -1].list.length) {\r\n                          ev.preventDefault();\r\n                      }\r\n                      break;\r\n                  case 38:\r\n                  case 40:\r\n                      ev.preventDefault();\r\n                      break;\r\n              }\r\n          };\r\n\r\n          var timer = null;\r\n          $scope.autocomplete = function (ev) {\r\n              //if ($scope.viewport.width <= $scope.breakpoints.small) return;\r\n\r\n              if ($scope.focused === false) return;\r\n\r\n              if ($rootScope.searchQuery.length < 3) {\r\n                  $scope.autoCompleteResult = [];\r\n                  $scope.autocompleteActive = false;\r\n                  $scope.ajaxCallActive = false;\r\n                  categoryCount = null;\r\n                  return;\r\n              }\r\n\r\n              switch (ev.keyCode) {\r\n                  //enter                                                                                                                                                            \r\n                  case 13:\r\n                          if (categoryCount === null) {\r\n                              $scope.resetAutocomplete();\r\n                              $scope.allowBlur = true;\r\n                              $scope.onSearch(ev);\r\n\r\n                          } else {\r\n                              $scope.allowBlur = false;\r\n                              window.location = $scope.autoCompleteResult[categoryCount - 1].list[resultCount - 1].url;\r\n                          }\r\n                      break;\r\n                  case 16:\r\n                      shiftKey = false;\r\n                      break;\r\n                      //left                                                                                                                                                            \r\n                  case 37:\r\n                      break;\r\n                      //up                                                                                                                                                            \r\n                  case 38:\r\n                      autoCompleteMoveUp();\r\n                      return false;\r\n                      //right\r\n                  case 39:\r\n                      break;\r\n                      //Tab                                                                                                                                                            \r\n                  case 9:\r\n                      if (!shiftKey) {\r\n                          autoCompleteMoveDown();\r\n                      } else {\r\n                          autoCompleteMoveUp();\r\n                      }\r\n                      break;\r\n                      //down                                                                                                                                                            \r\n                  case 40:\r\n                      autoCompleteMoveDown();\r\n\r\n                      return false;\r\n                  default:\r\n\r\n                      //if (!$scope.selectedSearch.autoComplete) return;\r\n\r\n                      categoryCount = null;\r\n                      if (timer) {\r\n                          $timeout.cancel(timer);\r\n                          timer = null;\r\n                          console.log('cancel timeout');\r\n                      }\r\n\r\n                      timer = $timeout(function() {\r\n                          $scope.autocompleteActive = true;\r\n                          console.log('calling WS');\r\n                          if ($rootScope.searchQuery.length > 0) {\r\n                              $scope.ajaxCallActive = true;\r\n\r\n                               aggregatedService.performSearch($rootScope.searchQuery, [], 5, 0).then(function (arrayOfResults) {\r\n                                   console.log(arrayOfResults);\r\n\r\n                                   var response = {\r\n                                       d: {\r\n                                           Results: arrayOfResults\r\n                                       }\r\n                                   };\r\n\r\n                                   displayAutoCompleteData(response);\r\n                               });\r\n\r\n                          }\r\n                      }, 300);\r\n                      return;\r\n              }\r\n          };\r\n\r\n          function displayAutoCompleteData(response) {\r\n              $scope.ajaxCallActive = false;\r\n              $scope.autoCompleteResult = [];\r\n              if (response.d) {\r\n                  var list = [];\r\n\r\n                  if (response.d.NumberOfHitsTotal === 0) {\r\n                      $scope.autoCompleteResult = [];\r\n                      return;\r\n                  }\r\n\r\n                  list = response.d.Results;\r\n\r\n                  for (var x = 0; x < list.length; x++) {\r\n                      var item = {};\r\n                      var curr = list[x];\r\n                      if (curr.data.Results.length === 0) continue;\r\n                      item.type = curr.Section;\r\n\r\n                      item.title = curr.SectionName;\r\n\r\n                      item.list = [];\r\n                      for (var y = 0; y < curr.data.Results.length; y++) {\r\n                          var currResult = curr.data.Results[y];\r\n\r\n                          item.title = getType(currResult.Type);\r\n                          item.url = searchOption.url;\r\n\r\n                          item.list.push({\r\n                              externalId: curr.SectionName + '_' + curr.Section + '_' + y,\r\n                              id: y,\r\n                              typeId: curr.Section,\r\n                              title: currResult.Title,\r\n                              url: currResult.ShowDetailsUrl\r\n                          });\r\n                      }\r\n                      $scope.autoCompleteResult.push(item);\r\n                      console.log(item);\r\n                  }\r\n\r\n              }\r\n          }\r\n\r\n          function getType(type) {\r\n              switch (type) {\r\n                  case \"dataset\":\r\n                      return \"Datasett\";\r\n                  case \"servicelayer\":\r\n                      return \"Tjenestelag\"; //WMS-lag (Tjenestelag)\r\n                  case \"service\":\r\n                      return \"Tjenester\";\r\n                  case \"dimensionGroup\":\r\n                      return \"Datapakker\";\r\n                  default:\r\n              }\r\n              \r\n          }\r\n\r\n          var categoryCount = null;\r\n          var resultCount = null;\r\n          var shiftKey = false;\r\n          function autoCompleteMoveUp() {\r\n\r\n              if (resultCount > 0 && categoryCount == 1) {\r\n                  resultCount--;\r\n                  if (resultCount === 0) categoryCount = null;\r\n              }\r\n\r\n              if (resultCount == 1 && categoryCount > 1) {\r\n                  categoryCount--;\r\n                  resultCount = $scope.autoCompleteResult[categoryCount - 1].list.length;\r\n              }\r\n\r\n\r\n\r\n              if (categoryCount > 1 & resultCount > 1) {\r\n                  resultCount--;\r\n              }\r\n\r\n              setHighlightedRow();\r\n          }\r\n\r\n          function autoCompleteMoveDown() {\r\n              if (categoryCount === null) {\r\n                  categoryCount = 1;\r\n                  resultCount = 1;\r\n              } else {\r\n                  if (categoryCount == $scope.autoCompleteResult.length) {\r\n                      if ($scope.autoCompleteResult[categoryCount - 1].list.length > resultCount) {\r\n                          resultCount++;\r\n                      }\r\n                  }\r\n                  if (categoryCount < $scope.autoCompleteResult.length) {\r\n                      if ($scope.autoCompleteResult[categoryCount - 1].list.length > resultCount) {\r\n                          resultCount++;\r\n                      }\r\n                      else {\r\n                          categoryCount++;\r\n                          resultCount = 1;\r\n                      }\r\n                  }\r\n              }\r\n              setHighlightedRow();\r\n\r\n          }\r\n\r\n          function setHighlightedRow() {\r\n              for (var x = 0; x < $scope.autoCompleteResult.length; x++) {\r\n                  var curr = $scope.autoCompleteResult[x];\r\n                  if (x == categoryCount - 1) {\r\n                      for (var y = 0; y < curr.list.length; y++) {\r\n                          var innerItem = curr.list[y];\r\n                          if (y == resultCount - 1) {\r\n                              innerItem.highlight = true;\r\n                          } else {\r\n                              innerItem.highlight = false;\r\n                          }\r\n                      }\r\n\r\n                  } else {\r\n                      for (var z = 0; z < curr.list.length; z++) {\r\n\r\n                          curr.list[z].highlight = false;\r\n                      }\r\n                  }\r\n              }\r\n              console.log('categoryCount ' + categoryCount);\r\n              console.log('resultCount ' + resultCount);\r\n          }\r\n\r\n          $scope.mouseOver = function (val, category, index) {\r\n              console.log(category);\r\n              console.log(index);\r\n              $scope.allowBlur = val;\r\n              resultCount = index + 1;\r\n              categoryCount = category + 1;\r\n              setHighlightedRow();\r\n          };\r\n          $scope.mouseOut = function (val) {\r\n              $scope.allowBlur = val;\r\n          };\r\n\r\n          $scope.resetAutocomplete = function () {\r\n              $scope.focused = false;\r\n              $scope.autocompleteActive = false;\r\n              $scope.ajaxCallActive = false;\r\n              $scope.autoCompleteResult = [];\r\n          };\r\n\r\n          $scope.setFocus = function (ev) {\r\n              $scope.focused = true;\r\n              console.log($scope.focused);\r\n              angular.element(ev.target).on('blur', function () {\r\n                  $timeout(function () {\r\n                      if ($scope.allowBlur) {\r\n                          $scope.resetAutocomplete();\r\n                          console.log($scope.focused);\r\n                          angular.element(ev.target).on('blur', null);\r\n                      }\r\n                  }, true);\r\n              });\r\n          };\r\n          angular.element(document).ready(function () {\r\n              aggregatedService.triggerSearch($rootScope.searchQuery);\r\n          });\r\n      }]);\r\n}());\r\n"],"sourceRoot":"/source/"}